<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Events_xen (vchan-xen.Events_xen)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">vchan-xen</a> &#x00BB; Events_xen</nav><header class="odoc-preamble"><h1>Module <code><span>Events_xen</span></code></h1></header><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../vchan/Vchan/S/module-type-EVENTS/index.html">Vchan.S.EVENTS</a></span></code></summary><div class="odoc-spec"><div class="spec type anchored" id="type-port"><a href="#type-port" class="anchor"></a><code><span><span class="keyword">type</span> port</span></code></div><div class="spec-doc"><p>an identifier for a source of events. Ports are allocated by calls to <code>listen</code>, then exchanged out-of-band (typically by xenstore) and finally calls to <code>connect</code> creates a channel between the two domains. Events are send and received over these channels.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-port_of_string"><a href="#val-port_of_string" class="anchor"></a><code><span><span class="keyword">val</span> port_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-port">port</a>, <span>[&gt; <span>`Msg of string</span> ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_port"><a href="#val-string_of_port" class="anchor"></a><code><span><span class="keyword">val</span> string_of_port : <span><a href="#type-port">port</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-channel"><a href="#type-channel" class="anchor"></a><code><span><span class="keyword">type</span> channel</span></code></div><div class="spec-doc"><p>a channel is the connection between two domains and is used to send and receive events.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-event"><a href="#type-event" class="anchor"></a><code><span><span class="keyword">type</span> event</span></code></div><div class="spec-doc"><p>an event notification received from a remote domain. Events contain no data and may be coalesced. Domains which are blocked will be woken up by an event.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-initial"><a href="#val-initial" class="anchor"></a><code><span><span class="keyword">val</span> initial : <a href="#type-event">event</a></span></code></div><div class="spec-doc"><p>represents an event which 'fired' when the program started</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-recv"><a href="#val-recv" class="anchor"></a><code><span><span class="keyword">val</span> recv : <span><a href="#type-channel">channel</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-event">event</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-event">event</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>recv channel event</code> blocks until the system receives an event newer than <code>event</code> on channel <code>channel</code>. If an event is received while we aren't looking then this will be remembered and the next call to <code>after</code> will immediately unblock. If the system is suspended and then resumed, all event channel bindings are invalidated and this function will fail with Generation.Invalid</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-send"><a href="#val-send" class="anchor"></a><code><span><span class="keyword">val</span> send : <span><a href="#type-channel">channel</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>send channel</code> sends an event along <code>channel</code>, to another domain which will be woken up</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-listen"><a href="#val-listen" class="anchor"></a><code><span><span class="keyword">val</span> listen : <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-port">port</a> * <a href="#type-channel">channel</a></span></code></div><div class="spec-doc"><p><code>listen domid</code> allocates a fresh port and event channel. The port may be supplied to <code>connect</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-connect"><a href="#val-connect" class="anchor"></a><code><span><span class="keyword">val</span> connect : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-port">port</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-channel">channel</a></span></code></div><div class="spec-doc"><p><code>connect domid port</code> connects an event channel to <code>port</code> on <code>domid</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-close"><a href="#val-close" class="anchor"></a><code><span><span class="keyword">val</span> close : <span><a href="#type-channel">channel</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>close channel</code> closes this side of an event channel</p></div></div></details></div></div></body></html>
